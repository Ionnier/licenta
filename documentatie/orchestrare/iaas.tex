\subsection{General}
Conceptul de închiriere de echipament nu ar trebui să surprindă pe nimeni. În general, echipamentele
ce ar necesita o investiție semnificativă pentru o folosire extrem de rară ar permite ca împrumutarea
acestora să nu fie o alegere proastă, de exemplu închirierea unei pereche de schiuri în contextul
în care mergem o pentru prima dată sau o dată la o perioadă îndelungată. Compania ce închiriază schiurile
trebuie să se asigure de buna funcționalitatea acestora iar noi plătim prețul pe care l-am negociat.

Însă atunci când vorbim de infrastructură, aceasta este posibil folosită în fiecare moment pe Internet,
rentarea închirierii ar putea provenii strict de la serviciile pe care distribuitorul le-ar oferi, astfel
unul din motivele pentru care ai opta pentru o astfel de opțiune nu este doar pentru componenta fizică
ci și pentru bonusurile care provin cu acestea.

În lumea infrastructurii cloud, serviciile oferite pot fi variate începând de la resurse de calcul sub formă
de platforme de procesare scalabile și actualizabile în orice moment, spațiu de stocare hostat cu servicii suplimentare
precum criptare la rest sau redundanță, rețelistică ușor definită, sisteme de monitorizare și observare până la sisteme 
de Machine Learning deja antrenate alături de alte servicii precum Text-to-Speech sau servicii de traducere în timp real.

Prin implementarea unui serviciu de infrastructură cloud, complexitatea procurării de echipament este abstractizată
prin adăugarea unor resurse noi virtuale, mentenanța la nivel fizic este asigurată de către provider iar în funcție
de serviciul ales chiar mai mult din administrarea acestora, astfel ne putem concentra doar pe dezvoltarea și simplificând
lansarea.

\subsection{Extinderea limitelor}

În comerțul obiectelor cu amănântul, conceptul de cumpărare în masă la un preț mai avantajos sună ușor nedrept
însă furnizorilor să ofere servicii la prețuri foarte accesibile, din acest motiv uneori poate să fie mai 
rentabil să folosim această abordare.

Aceștia pot să creeze ferme de servere pe care să le ofere spre folosire, care deși nu sunt nelimitate, 
ar acoperi suficiente neajunsuri, astfel putem crea aplicații ce beneficiază de această resursă nelimitată în calcul.

În martie 2014, Titanfall a apărut pentru PC, Xbox One și Xbox 360. Consolele noi apărând în 2013, nu este 
neașteptat ca să existe jocuri disponibile pentru ambele, însă în general acestea sunt dezvoltate
ca țintă consolele vechi. În acest caz, dezvoltatorul Respawn Entertainment lucra asupra versiunii de PC și
Xbox One în timp ce un studio extern, Bluepoint, lucra asupra versiunii vechi.

Portarea unui joc ce vizează o platformă mult mai puternică către una mai slabă vine cu dificultățile ei,
mai ales în cazul acestui joc ce este destul de complex (12 jucători iar fiecare dintre ei poate avea 
un titan pe care îl controlează, alături de aceștia existând și entități necontrolabile ce sunt de ambele părți).

În interviul dat pentru Digital Foundry \cite{leadbetter_2014} aceștia menționează dificultățile portării
incluzând reducerea materialelor (asset) și îmbunătățirea modurilor de randare și procesare întrucât 
Xbox 360-ul este mult mai limitat decât Xbox One-ul.

Însă, un lucru special al acestui joc este faptul că este disponibil doar cu o conexiune activă la Internet,
mai mult decât atât, acesta are doar o componentă ce conține mai mulți jucători (fără o poveste), lucru 
ce în absența anumitor cunoștințe ar face să privesc o astfel de abordare ca o lăcomie din partea
distribuitolui.

Chiar și cu o consolă mai puternică, la începutul unei generații dezvoltatorii nu pot să fructifice
toată această putere, astfel aceștia au creat un parteneriat cu cei de la Microsoft ca pentru toate 
versiunile să se folosească servere ce provin din Microsoft Azure pentru a îmbunătății experiența.

Cel mai simplu mod prin îmbunătățirea performanței a fost trecerea la servere dedicate, în general 
jocurile pentru a economisi prețul infrastructurii foloseau o arhitectură de tip peer-to-peer însă 
în cazul Titanfall acesta nu ar fi fost articol, din interviul \cite{leadbetter_2014} am extras:
"The server performance requirements for Titanfall are pretty high, so you can't run peer-to-peer. 
This also means you can't have a many virtual machines per physical server, 
meaning if you've got a popular game, then you're going to need a pretty big investment in 
server hardware.".

În interviul \cite{seppala_2014} se menționează mai multe detalii în acest aspect,
"We have all of this AI and things flying around in the world; that has obviously let us build a 
different game than we would have if we'd have gone with player-hosted", astfel dispozitivele se pot ocupa doar de procesarea informațiilor primite
și să nu se ocupe și de obținerea acestora
"Because Titanfall's advanced AI is handled by the Azure servers, your Xbox's or PC's innards can be used to achieve more detailed graphics 
and the game's silky-smooth frame rate. The Titan bodyguards, 
dropships and legions of AI-controlled combatants are essentially free 
from a processing-power standpoint.".
În același articol se menționează cum serverele disponibile în mai multe regiuni, capacitatea de scalare 
au putut duce proiectul la bun sfârșit.

În articolul precedent \cite{leadbetter_2014} aceste informați despre avantajele cloud-ului se extind,
întrucât pentru a face performanța suficient de bună a trebuit să calculeze anumite elemente direct în cloud.
"Respawn wrote a new PVS system that worked dynamically, likely because that's much better for iteration but it need additional CPU performance we haven't got on 
Xbox 360. We took a different approach and pre-calculated static visibility using a 
big farm of Xbox 360s; these ran multi-hour visibility calculations which reduced the 
amount of stuff the 360 had to draw without requiring runtime computation and allowed us 
to use mostly the same geometry as the Xbox One version.
Same deal for shadows, pre-calculate. Also creating occlusion geometry to reduce 
pixels shaded, tech art to the rescue there getting those built!"

Exemplul precedent acoperă doar resursele de calcul, însă furnizorii de cloud nu se limitează doar la atât,
aceștia oferă servicii mult mai complexe astfel putem să extindem capacitățile unui dispozitiv folosind 
resursele provenite de pe servere la distanță al căror disponibilitate este mai ridicată făță de ce
am putea aduce pe cont propriu.


\subsection{Microsoft Azure}

Principalul furnizor de elemente de cloud este Amazon prin Amazon Web Services, aceștia domină piața întrucât la
început aceștia erau singurii care oferau servicii în care companiile doreau să investească, însă recent,
avantajul lor pe piață este în scădere datorită avansurilor competiției \cite{kumar_2022}, mai ales în lumea
furnizorilor cloud nu este suficient să oferi servicii de hostare întrucât acestea permit o ușoară migrare
către alți competitori în funcție de preț. Din acest motiv, aceștia oferă multe servicii prin care
trecerea devine mai dificilă, sau chiar imposibilă întrucât serviciul este disponibil doar
pe acea platformă, însă în general aceștia oferă servicii asemănătoare, cel puțin la
un nivel de bază.

Am ales să analizez Azure pentru că avem credite ca și studenți. Această platformă
a pornit sub numele de Windows Azure anunțat în 2008. Pe parcursul timpului, acesta
nu a prins atracția publicului larg întrucât era destul de limitată și
tinde să se schimbe foarte des. În perioada aceea Microsoft se baza pe Windows și tehnologii
proprii însă începând cu 2014 Microsoft a început să folosească și să ofere servicii
ce provin din software open-source și își schimbă numele în Microsoft Azure pentru
a reflecta acest lucru.

\subsubsection{Elemente de bază}

Atunci când vrem să folosim un serviciu de cloud, este necesară crearea unui cont,
în general putem folosi un cont Microsoft, fie el personal sau unul administrat de o
organizație.

După crearea unui cont acestuia trebuie să îi se asocieze o sursă de plată, întrucât
acest tip de servicii o să creeze facturi doar pentru cât consumi, astfel administrarea
serviciilor devin mult mai ușoară.

Însă Azure oferă mai multe tipuri de abonamente și modalități de organizare ale acestora
incluzând acces pe bază de rol, destinat companiilor.

Toate elementele create în Azure sunt administrare printr-o interfață REST, Azure
Resource Manager. Acesta poate fi accesat creând cereri HTTP alături de verbele
frecvent utilizate, comunicând prin JSON. Însă pentru a spori eficiența, au fost dezvoltate
SDK-uri de administrare folosite ca librării pentru diferite limbaje de programare
precum Python sau Java, dar și executable-uri făcute pentru a fi rulate direct
dintr-un terminal prin intermediul Azure PowerShell (mai vechi, cu o sintaxă
asemănătoare comenzilor de Windows) sau Azure CLI (mai rapid și cross-platform)

Scopul folosirii serviciilor cloud este eliminarea necesități de organizare
a serverelor, și administrarea acestora printr-un terț ce se oferă să le întrețină.
Un avantaj al acestora este faptul că putem alege locul în care aceste servere
sunt amplasate, nu suntem constranși de locul fizic al acestora, astfel putem definii
Azure Regions.

Acestea reprezintă locul în care cei de la Microsoft au fizic centrele de operare
ale serverelor. În cadrul acestora există mai multe centre de disponibilitate, astfel
aceași zonă prezintă mai multe servere separate ce stau în spatele unui load balancer.
Putem folosi aceste zone pentru a crea replici ca un back-up.

De multe ori avem regiuni pereche, acestea fiind situate într-un loc aproximativ
aproape, de exemplu UK South - UK West, acestea pot fi folosite pentru backup.

Alegerea unei regiuni poate fi ușor dificilă, în primul rând contează locul în
care o amplasăm pentru a scade latența către utilizatori, prezența zonelor de
disponibilitate sau a unei regiuni pereche ca și backup însă datorită modului
cum acestea apar, nu toate caracteristicile sunt disponibile în toate regiunile,
mai mult, toate caracteristiciile oferite de Azure pot să aibă preț diferit
în funcție de regiune, astfel atunci când facem o alegere avem mulți factori
ce ar trebui să îi luăm în considerare.

\subsubsection{Stocare}

În general, tipurile de date cu care interacționăm pot fi de mai multe feluri,
nestructurate, în general obiecte de mari dimensiuni ce reprezintă executabile sau
fișiere de variate tipuri, date semi-structurate, acestea nu au o formă impusă însă
tot au anumite similiratiăți sau moduri de indexare, și date structurate ce reprezintă
date asemănătoare cu cele pe care le-am găsii în bazele de date relaționale.

Modul de interacționare cu stocare se face prin crearea unui cont de administrare
a stocării ce poate fi de mai multe tiprui și are ca scop păstrarea unor anumite setări
de configurare. Acesta poate fi de mai multe tipuri general v2, v1 sau blob
și ne poate limita la tipurile de date pe care le putem folosi. De asemenea,
putem alege modul de stocare al datelor, acestea putând să fie pe hard disk-uri
ce sunt mai lente sau stocare mai scumpă însă mai rapidă prin SSD-uri. În final,
putem selecta modalități de replicare, local (LRS), în care se crează 3 copii în
interiorul unui centru de date din aceași zonă, regional (ZRS), în care se crează
3 copii dar distribuite în mai multe centre de date din aceași zonă, georegional (GRS)
3 copii în mai multe centre din aceași zonă și altele 3 copii într-o regiune secundară pereche
sau georegional doar citire (RA-GRS) în care se primește acces doar pe citire în conturile secundare
din stilul GRS.

Cel mai folosit mod de stocare al datelor este Azure Blob Storage, acesta este un tip
de stocare de date nestructurate, astfel putem sa îl folosim asupra oricarui tip de date,
neavând optimiări specifice. Încărcarea de date prin acest serviciu se poate face grafic
sau prin diferite API-uri. Atunci când folosim acest serviciu, costurile vin din
mai multe categorii: volumul de date, numărul de tranzacții prin interfața REST și
traficul de descărcare. Pentru optimizarea acestor prețuri putem alege între trei categorii,
unul pentru date frecvent accesate, pentru date accesate mai putin frecvente si stocate pentru o perioada
de cel putin 30 de zile și cel de arhivare pentru date accesate foarte rar (mai mult de 180 de zile).

Pe lângă Blob Storage, avem File Storage ce poate să stocheze date sub forma unui drive montabil pe Internet,
Table Service ce reprezintă o bază de date NoSQL de tipul cheie / valoare, fiind o variantă
mai limitată a unei baze de date de acest tip întrucât nu are georeplicare sau scalare, și Queue Service
ce reprezintă o platformă de transmitere de mesaje de tipul Event Bus în arhitectura
microserviciilor.

De asemenea, putem crea Azure Virtual Hard Disks, acestea fiind necesare pentru a
fi montate către mașinile virtuale create.

\subsubsection{Mașini virtuale}

Reprezintă cea mai simplă metodă de a face rost de o platformă de procesare a datelor.
Fiecare mașină virtuală are repartizat o anumită putere de procesare și o anumită
cantiate de RAM, asociat unei unități de stocare și conectat la o anumită rețea.
Toate aceste elemente sunt configurate atunci când creăm mașina virtuală însă pot fi
modificate și dupa ce este lansată.

Putem folosi diferitele metode de acces ale API-ului Azure pentru a modifica aceste date
și putem folosi diferite strategii de migrare precum încărcarea unui .vhd pentru a urca
o mașina virtuală deja existentă.

Modul de monetizare ale mașinilor virtuale este că plătim pentru fiecare secundă
în care aceasta are resurse alocate. În funcție de nevoile noastre putem folosi
diferite tipuri de procesoare în funcțiile de nevoile noastre, fiecare având
optimizările proprii, în același timp putem selecta tipul de stocare de care avem nevoie,
pornind de la HDD-uri standard către SSD-uri ultra rapide, opțiunile mai performante
necesitând o investiție mai mare. Fiecare mașină virtuală necesită cel puțin
o interfață de rețea virtuală și opțional adrese IP publice sau setări de firewall.

Un considerent asupra mașinilor virtuale este modul în care acestea sunt lansate.
Cele mai importante aspecte sunt disponibilitatea și scalarea. Implicit, nu avem
nicio astfel de garanție, din acest moment putem să încercăm fie seturi de disponibilitate
în care mașinile virtuale sunt puse în același centru de date dar în zone fizice diferite
sau o zonă de disponibilitate în care mașinile virtuale sunt puse în regiuni diferite.
Scalarea mașinilor virtuale este mai dificilă, însă există scalare orizontală prin
intermediul Azure Virtual Machine Scale Sets, sunt dificil de implementat necesitând un load balancer, scumpe
deoarece plătim pentru fiecare mașină și necesită configurări și sincronizări manuale.

\subsubsection{Containere}

Întrucât VM-urile au dezavantajele proprii ale consumului de resurse sau al modului
de configurare, putem lansa containere în Azure prin Azure Container Instances.
Acestea sunt configurate aproximativ la fel ca mașinile virtuale, singura diferență
find necesitate specificării numele imaginii containerelui și repository-ul de unde
acestea să provină însoțit de detaliile de autentificare dacă acestea sunt necesare.

Pentru a facilita lucrul cu containere, avem la dispoziție Azure Container Registry
ce ne permite să creăm propriul registru de imagini, putând să adăugăm imaginile proprii
pe el ca după să putem să le consumăm atunci când vrem să lansăm o aplicație sub formă
de container.

Pentru a abstractiza management-ul stării produslui, avem Azure Kubernetes Service
prin care Microsoft abstractizează nodurile de management iar conținutul acestuia
poate fi administrat printr-o interfață similară a lui kubectl, prin az aks.


\subsubsection{Azure App Service}

Reprezentând un PaaS, App Service este o modalitate de a lansare a codului fără
întreținerea explicită a infrastructurii din spatele acesteia, astfel nu e necesar
configurarea unei mașini virtuale și după încărcarea aplicației pe aceasta.

Avantajul renunțării la aceste configurări nu este doar ușurința modului de
lansare ci și posibilitatea unor facilități care nu sunt disponibile mașinilor
virtuale clasice, incluzând replicare și disponibilitate globală, autoscalare dinamică,
integrare nativă în pipeline-uri.

Acest serviciu permite lansare prin intermediul încărcării codului unei aplicații
în mod direct sau prin intermediul unui container. Configurarea se face asemănător
cu o mașină virtuală

Prin intermediul interfeței putem să facem configurări minimale asupra aplicației,
însă acestea sunt limitate și au ca scop mai mult moduri de rulare precum
setări de mediu, porturi sau de SSL.

Monitorizarea unui astfel de serviciu se poate face prin Application Insights
ce se face integrând SDK-ul în codul client, ulterior putem face rost de date
precum timpi de răspuns, performanțe sau telemetrie. Toate aceste date fiind disponibile
în interiorul unui Dashboard central.

\subsubsection{Serverless}

Un concept ce este promovat de către furnizorii de cloud este capacitatea de a lansa
cod fără să ne intereseze locul și modul în care acestea rulează. Deosebirea față
de mașinile virtuale sau App Service este că putem plătii doar cât consumăm, adică
doar timpul în care codul rulează.

Există două tipuri în care putem lansa cod prin această metodă, însă este important
să facem diferențierea de rulare. Tehnologia serverless rulează doar atunci când este rulată,
în spate acestea pot fi sub formă de containere Docker care sunt rulate în momentul
în care e necesar, din acest motiv apare fenomenul de cold-start, atunci când
containerul trebuie să fie inițializat, însemnând că prima rulare a funcției este mai înceată.
În timpurile recente, furnizorii au optimizat acest timp iar rularea unui cold start este mai rară,
acestea fiind păstrare într-o stare în care pot fi rulate aproape instantaneu.

Un alt concept important este faptul că nu avem acces la o stare implicit, fiecare
rulare a funcției vine cu propriile reinițializări, astfel nu putem să accesăm
datele unei rulări anterioare fără să o salvăm conștient într-un anumit loc, precum într-o bază de
date externă.

Azure Functions rulează atunci când sunt invocate, și acesta poate fi configurat
în funcție de necesități precum atunci când sunt invocate prin intermediul unui endpoint HTTP,
la un anumit interval sau la evenimente precum încărcarea unui blob.

Acest tip de execuție, deși abstractizează aplicație, crearea unei funcții
necesită scriere de cod în anumite limbaje compatibile. Acest proces poate fi
simplificat și mai mult folosind Logic Apps, acestea sunt create aproape fără cod
și printr-o interfață grafică. Componentele unui Logic App sunt predefinite prin diferiți conectori
ce integrați împreună vor crea un flux de lucru ce vor fi executate la anumite evenimente.

\subsubsection{Baze de date}

Un alt serviciu pe care îl folosim în crearea unei platforme este o bază de date.
Atunci când avem infrastructură în cloud putem aveam mai multe opțiuni de abordare al
acestei probleme.

Una dintre ele este crearea unei mașini virtuale și în stil clasic crearea serverului
de bază de date și configurarea setărilor de securitate necesare conectării. În acest 
stil putem folosi orice versiune și tip de bază de date însă vom fi forțați să 
ne ocupăm de mașină, astfel va trebui să ne ocupăm de mentenanța software-ului ce
funcționează pe aceasta.

O altă alternativă este folosirea unei opțiuni de tip PaaS pentru baze de date, în 
acest tip toată mentenanța pe care ar trebui să o facem este ascunsă, la fel și 
backup-urile și georeplicarea. Deși pierdem din configurări, avem o metodă de 
folosire a bazei de date mult mai ușoară.

Pentru bazele de date relaționale avem SQL Database ce are suport pentru MySQL, MariaDB
sau Postgres, al cărui tip de monetizare poate fi bazat pe Database Transaction Unit
ce calculează folosința în funcție de CPU, I/O și memorie, vCore ce se face specificând 
un număr de instanțe de mașini virtuale iar numărul acestora va determina consumul și dacă
avem mai multe baze de date avem modelul elastic ce vor cupla mai multe baze de date atunci 
când este înregistrat consumul.

De asemenea, avem opțiunea pentru baze de date nerelaționale prin Azure Cosmos DB
ce are suport pentru multe variante precum MongoDB sau Cassandra ce vor putea avea 
avantajele unei baze de date de acest tip precum georeplicare și flexibilitatea în consistența acestora.

\subsubsection{Monitorizare}

